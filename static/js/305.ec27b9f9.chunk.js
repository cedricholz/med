"use strict";(self.webpackChunkmarlinsurf=self.webpackChunkmarlinsurf||[]).push([[305],{2305:function(t,e,n){n.r(e),n.d(e,{Controlled:function(){return W},default:function(){return C}});var o=n(5671),i=n(3144),a=n(7326),r=n(136),l=n(7277),d=n(1413),c=n(9439),h=n(2791),s=n(4164);var u,m=function(t,e){var n,o;return t===(null===e||void 0===e||null===(n=e.tagName)||void 0===n||null===(o=n.toUpperCase)||void 0===o?void 0:o.call(n))},v=function(t){return m("DIV",t)||m("SPAN",t)},g=function(t){return m("IMG",t)},f=function(t){return t.complete&&0!==t.naturalHeight},p=function(t){return m("SVG",t)},w=function(t){var e=t.height,n=t.offset,o=t.width;return Math.min((window.innerWidth-2*n)/o,(window.innerHeight-2*n)/e)},E=function(t){var e=t.containerHeight,n=t.containerWidth,o=t.hasScalableSrc,i=t.offset,a=t.targetHeight,r=t.targetWidth;return e&&n?!o&&a&&r?function(t){var e=t.containerHeight,n=t.containerWidth,o=t.offset,i=t.targetHeight,a=t.targetWidth,r=w({height:i,offset:o,width:a}),l=a>i?a/n:i/e;return r>1?l:r*l}({containerHeight:e,containerWidth:n,offset:i,targetHeight:a,targetWidth:r}):w({height:e,offset:i,width:n}):1},S=/url(?:\(['"]?)(.*?)(?:['"]?\))/,b=function(t){if(t){if(g(t))return t.currentSrc;if(v(t)){var e,n=window.getComputedStyle(t).backgroundImage;if(n)return null===(e=S.exec(n))||void 0===e?void 0:e[1]}}},L=function(t){var e=t.position,n=t.relativeNum,o=parseFloat(e);return e.endsWith("%")?n*o/100:o},y=/\.svg$/i,z=function(t){var e,n,o,i=t.hasZoomImg,a=t.imgSrc,r=t.isSvg,l=t.isZoomed,d=t.loadedImgEl,h=t.offset,s=t.shouldRefresh,u=t.targetEl,m=r||"data:image/svg+xml"===(null===a||void 0===a||null===(e=a.slice)||void 0===e?void 0:e.call(a,0,18))||i||!(!a||!y.test(a)),g=u.getBoundingClientRect(),f=window.getComputedStyle(u),p=null!=d&&v(u),w=null!=d&&!p,S=function(t){var e=t.containerHeight,n=t.containerLeft,o=t.containerTop,i=t.containerWidth,a=t.hasScalableSrc,r=t.offset,l=t.targetHeight,d=t.targetWidth,c=E({containerHeight:e,containerWidth:i,hasScalableSrc:a,offset:r,targetHeight:l,targetWidth:d});return{top:o,left:n,width:i*c,height:e*c,transform:"translate(0,0) scale(".concat(1/c,")")}}({containerHeight:g.height,containerLeft:g.left,containerTop:g.top,containerWidth:g.width,hasScalableSrc:m,offset:h,targetHeight:null!==(n=null===d||void 0===d?void 0:d.naturalHeight)&&void 0!==n?n:g.height,targetWidth:null!==(o=null===d||void 0===d?void 0:d.naturalWidth)&&void 0!==o?o:g.width}),b=w?function(t){var e=t.containerHeight,n=t.containerLeft,o=t.containerTop,i=t.containerWidth,a=t.hasScalableSrc,r=t.objectFit,l=t.objectPosition,d=t.offset,h=t.targetHeight,s=t.targetWidth;if("scale-down"===r&&(r=s<=i&&h<=e?"none":"contain"),"cover"===r||"contain"===r){var u=i/s,m=e/h,v="cover"===r?Math.max(u,m):Math.min(u,m),g=l.split(" "),f=(0,c.Z)(g,2),p=f[0],w=void 0===p?"50%":p,S=f[1],b=void 0===S?"50%":S,y=L({position:w,relativeNum:i-s*v}),z=L({position:b,relativeNum:e-h*v}),I=E({containerHeight:h*v,containerWidth:s*v,hasScalableSrc:a,offset:d,targetHeight:h,targetWidth:s});return{top:o+z,left:n+y,width:s*v*I,height:h*v*I,transform:"translate(0,0) scale(".concat(1/I,")")}}if("none"===r){var Z=l.split(" "),W=(0,c.Z)(Z,2),M=W[0],C=void 0===M?"50%":M,D=W[1],H=void 0===D?"50%":D,N=L({position:C,relativeNum:i-s}),T=L({position:H,relativeNum:e-h}),k=E({containerHeight:h,containerWidth:s,hasScalableSrc:a,offset:d,targetHeight:h,targetWidth:s});return{top:o+T,left:n+N,width:s*k,height:h*k,transform:"translate(0,0) scale(".concat(1/k,")")}}if("fill"===r){var U=i/s,A=e/h,O=Math.max(U,A),R=E({containerHeight:h*O,containerWidth:s*O,hasScalableSrc:a,offset:d,targetHeight:h,targetWidth:s});return{width:i*R,height:e*R,transform:"translate(0,0) scale(".concat(1/R,")")}}return{}}({containerHeight:g.height,containerLeft:g.left,containerTop:g.top,containerWidth:g.width,hasScalableSrc:m,objectFit:f.objectFit,objectPosition:f.objectPosition,offset:h,targetHeight:d.naturalHeight,targetWidth:d.naturalWidth}):void 0,z=p?function(t){var e=t.backgroundPosition,n=t.backgroundSize,o=t.containerHeight,i=t.containerLeft,a=t.containerTop,r=t.containerWidth,l=t.hasScalableSrc,d=t.offset,h=t.targetHeight,s=t.targetWidth;if("cover"===n||"contain"===n){var u=r/s,m=o/h,v="cover"===n?Math.max(u,m):Math.min(u,m),g=e.split(" "),f=(0,c.Z)(g,2),p=f[0],w=void 0===p?"50%":p,S=f[1],b=void 0===S?"50%":S,y=L({position:w,relativeNum:r-s*v}),z=L({position:b,relativeNum:o-h*v}),I=E({containerHeight:h*v,containerWidth:s*v,hasScalableSrc:l,offset:d,targetHeight:h,targetWidth:s});return{top:a+z,left:i+y,width:s*v*I,height:h*v*I,transform:"translate(0,0) scale(".concat(1/I,")")}}if("auto"===n){var Z=e.split(" "),W=(0,c.Z)(Z,2),M=W[0],C=void 0===M?"50%":M,D=W[1],H=void 0===D?"50%":D,N=L({position:C,relativeNum:r-s}),T=L({position:H,relativeNum:o-h}),k=E({containerHeight:h,containerWidth:s,hasScalableSrc:l,offset:d,targetHeight:h,targetWidth:s});return{top:a+T,left:i+N,width:s*k,height:h*k,transform:"translate(0,0) scale(".concat(1/k,")")}}var U=n.split(" "),A=(0,c.Z)(U,2),O=A[0],R=void 0===O?"50%":O,x=A[1],B=void 0===x?"50%":x,Y=L({position:R,relativeNum:r})/s,F=L({position:B,relativeNum:o})/h,P=Math.min(Y,F),j=e.split(" "),G=(0,c.Z)(j,2),K=G[0],_=void 0===K?"50%":K,q=G[1],V=void 0===q?"50%":q,$=L({position:_,relativeNum:r-s*P}),J=L({position:V,relativeNum:o-h*P}),Q=E({containerHeight:h*P,containerWidth:s*P,hasScalableSrc:l,offset:d,targetHeight:h,targetWidth:s});return{top:a+J,left:i+$,width:s*P*Q,height:h*P*Q,transform:"translate(0,0) scale(".concat(1/Q,")")}}({backgroundPosition:f.backgroundPosition,backgroundSize:f.backgroundSize,containerHeight:g.height,containerLeft:g.left,containerTop:g.top,containerWidth:g.width,hasScalableSrc:m,offset:h,targetHeight:d.naturalHeight,targetWidth:d.naturalWidth}):void 0,I=Object.assign({},S,b,z);if(l){var Z=window.innerWidth/2,W=window.innerHeight/2,M=Z-(parseFloat(String(I.left||0))+parseFloat(String(I.width||0))/2),C=W-(parseFloat(String(I.top||0))+parseFloat(String(I.height||0))/2);s&&(I.transitionDuration="0.01ms"),I.transform="translate(".concat(M,"px,").concat(C,"px) scale(1)")}return I};"undefined"!==typeof document&&((u=document.createElement("div")).setAttribute("data-rmiz-portal",""),document.body.appendChild(u));var I=["img","svg",'[role="img"]',"[data-zoom]"].map((function(t){return"".concat(t,':not([aria-hidden="true"])')})).join(","),Z={overflow:"",width:""};function W(t){return h.createElement(M,(0,d.Z)({},t))}var M=function(t){(0,r.Z)(n,t);var e=(0,l.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=e.apply(this,arguments)).state={id:"",isZoomImgLoaded:!1,loadedImgEl:void 0,modalState:"UNLOADED",shouldRefresh:!1},t.refContent=(0,h.createRef)(),t.refDialog=(0,h.createRef)(),t.refModalContent=(0,h.createRef)(),t.refModalImg=(0,h.createRef)(),t.refWrap=(0,h.createRef)(),t.imgEl=null,t.prevBodyAttrs=Z,t.styleModalImg={},t.setId=function(){var e=function(){return Math.random().toString(16).slice(-4)};t.setState({id:e()+e()+e()})},t.setAndTrackImg=function(){var e,n,o,i,a,r,l=t.refContent.current;l&&(t.imgEl=l.querySelector(I),t.imgEl?(null===(e=t.changeObserver)||void 0===e||null===(n=e.disconnect)||void 0===n||n.call(e),null===(o=t.imgEl)||void 0===o||null===(i=o.addEventListener)||void 0===i||i.call(o,"load",t.handleImgLoad),null===(a=t.imgEl)||void 0===a||null===(r=a.addEventListener)||void 0===r||r.call(a,"click",t.handleZoom),t.state.loadedImgEl||t.handleImgLoad(),t.imgElObserver=new ResizeObserver((function(e){var n=e[0];null!==n&&void 0!==n&&n.target&&(t.imgEl=n.target,t.setState({}))})),t.imgElObserver.observe(t.imgEl)):t.changeObserver||(t.changeObserver=new MutationObserver(t.setAndTrackImg),t.changeObserver.observe(l,{childList:!0,subtree:!0})))},t.handleIfZoomChanged=function(e){var n=t.props.isZoomed;!e&&n?t.zoom():e&&!n&&t.unzoom()},t.handleImgLoad=function(){var e=(0,a.Z)(t).imgEl,n=b(e);if(n){var o=new Image;g(e)&&(o.sizes=e.sizes,o.srcset=e.srcset),o.src=n;var i=function(){t.setState({loadedImgEl:o})};o.decode().then(i).catch((function(){f(o)?i():o.onload=i}))}},t.handleZoom=function(){var e,n;null===(e=(n=t.props).onZoomChange)||void 0===e||e.call(n,!0)},t.handleUnzoom=function(){var e,n;null===(e=(n=t.props).onZoomChange)||void 0===e||e.call(n,!1)},t.handleDialogCancel=function(t){t.preventDefault()},t.handleDialogClick=function(e){e.target!==t.refModalContent.current&&e.target!==t.refModalImg.current||t.handleUnzoom()},t.handleDialogKeyDown=function(e){"Escape"!==e.key&&27!==e.keyCode||(e.preventDefault(),e.stopPropagation(),t.handleUnzoom())},t.handleWheel=function(e){e.stopPropagation(),queueMicrotask((function(){t.handleUnzoom()}))},t.handleTouchStart=function(e){1===e.changedTouches.length&&e.changedTouches[0]&&(t.touchYStart=e.changedTouches[0].screenY)},t.handleTouchMove=function(e){if(null!=t.touchYStart&&e.changedTouches[0]){t.touchYEnd=e.changedTouches[0].screenY;var n=Math.max(t.touchYStart,t.touchYEnd),o=Math.min(t.touchYStart,t.touchYEnd);Math.abs(n-o)>10&&(t.touchYStart=void 0,t.touchYEnd=void 0,t.handleUnzoom())}},t.handleTouchCancel=function(){t.touchYStart=void 0,t.touchYEnd=void 0},t.handleResize=function(){t.setState({shouldRefresh:!0})},t.zoom=function(){var e,n,o,i;t.bodyScrollDisable(),null===(e=t.refDialog.current)||void 0===e||null===(n=e.showModal)||void 0===n||n.call(e),t.setState({modalState:"LOADING"}),t.loadZoomImg(),window.addEventListener("wheel",t.handleWheel,{passive:!0}),window.addEventListener("touchstart",t.handleTouchStart,{passive:!0}),window.addEventListener("touchend",t.handleTouchMove,{passive:!0}),window.addEventListener("touchcancel",t.handleTouchCancel,{passive:!0}),null===(o=t.refModalImg.current)||void 0===o||null===(i=o.addEventListener)||void 0===i||i.call(o,"transitionend",t.handleZoomEnd,{once:!0})},t.handleZoomEnd=function(){setTimeout((function(){t.setState({modalState:"LOADED"}),window.addEventListener("resize",t.handleResize,{passive:!0})}),0)},t.unzoom=function(){var e,n;t.setState({modalState:"UNLOADING"}),window.removeEventListener("wheel",t.handleWheel),window.removeEventListener("touchstart",t.handleTouchStart),window.removeEventListener("touchend",t.handleTouchMove),window.removeEventListener("touchcancel",t.handleTouchCancel),null===(e=t.refModalImg.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"transitionend",t.handleUnzoomEnd,{once:!0})},t.handleUnzoomEnd=function(){setTimeout((function(){var e,n;window.removeEventListener("resize",t.handleResize),t.setState({shouldRefresh:!1,modalState:"UNLOADED"}),null===(e=t.refDialog.current)||void 0===e||null===(n=e.close)||void 0===n||n.call(e),t.bodyScrollEnable()}),0)},t.bodyScrollDisable=function(){t.prevBodyAttrs={overflow:document.body.style.overflow,width:document.body.style.width};var e=document.body.clientWidth;document.body.style.overflow="hidden",document.body.style.width="".concat(e,"px")},t.bodyScrollEnable=function(){document.body.style.width=t.prevBodyAttrs.width,document.body.style.overflow=t.prevBodyAttrs.overflow,t.prevBodyAttrs=Z},t.loadZoomImg=function(){var e=(0,a.Z)(t).props.zoomImg,n=null===e||void 0===e?void 0:e.src;if(n){var o,i,r=new Image;r.sizes=null!==(o=null===e||void 0===e?void 0:e.sizes)&&void 0!==o?o:"",r.srcset=null!==(i=null===e||void 0===e?void 0:e.srcSet)&&void 0!==i?i:"",r.src=n;var l=function(){t.setState({isZoomImgLoaded:!0})};r.decode().then(l).catch((function(){f(r)?l():r.onload=l}))}},t.UNSAFE_handleSvg=function(){var e=(0,a.Z)(t),n=e.imgEl,o=e.refModalImg,i=e.styleModalImg;if(p(n)){var r,l,d,c,h,s=document.createElement("div");s.innerHTML=n.outerHTML;var u=s.firstChild;u.style.width="".concat(i.width||0,"px"),u.style.height="".concat(i.height||0,"px"),u.addEventListener("click",t.handleUnzoom),null===(r=o.current)||void 0===r||null===(l=r.firstChild)||void 0===l||null===(d=l.remove)||void 0===d||d.call(l),null===(c=o.current)||void 0===c||null===(h=c.appendChild)||void 0===h||h.call(c,u)}},t}return(0,i.Z)(n,[{key:"render",value:function(){var t=this.handleDialogCancel,e=this.handleDialogClick,n=this.handleDialogKeyDown,o=this.handleUnzoom,i=this.handleZoom,a=this.imgEl,r=this.props,l=r.a11yNameButtonUnzoom,c=r.a11yNameButtonZoom,m=r.children,f=r.classDialog,w=r.IconUnzoom,E=r.IconZoom,S=r.isZoomed,L=r.wrapElement,y=r.ZoomContent,I=r.zoomImg,Z=r.zoomMargin,W=this.refContent,M=this.refDialog,C=this.refModalContent,D=this.refModalImg,H=this.refWrap,N=this.state,T=N.id,k=N.isZoomImgLoaded,U=N.loadedImgEl,A=N.modalState,O=N.shouldRefresh,R="rmiz-modal-".concat(T),x="rmiz-modal-img-".concat(T),B=v(a),Y=g(a),F=p(a),P=function(t){var e,n;if(t)return g(t)?null!==(e=t.alt)&&void 0!==e?e:void 0:null!==(n=t.getAttribute("aria-label"))&&void 0!==n?n:void 0}(a),j=b(a),G=Y?a.sizes:void 0,K=Y?a.srcset:void 0,_=!(null===I||void 0===I||!I.src),q=a&&(U||F)&&"none"!==window.getComputedStyle(a).display,V=P?"".concat(c,": ").concat(P):c,$="LOADING"===A||"LOADED"===A,J=q?"found":"not-found",Q="UNLOADED"===A||"UNLOADING"===A?"hidden":"visible",X={visibility:"UNLOADED"===A?"visible":"hidden"},tt=function(t){if(!t)return{};if(p(t)){var e=t.parentElement,n=t.getBoundingClientRect();if(e){var o=e.getBoundingClientRect();return{height:n.height,left:o.left-n.left,top:o.top-n.top,width:n.width}}return{height:n.height,left:n.left,width:n.width,top:n.top}}return{height:t.offsetHeight,left:t.offsetLeft,width:t.offsetWidth,top:t.offsetTop}}(a);this.styleModalImg=q?z({hasZoomImg:_,imgSrc:j,isSvg:F,isZoomed:S&&$,loadedImgEl:U,offset:Z,shouldRefresh:O,targetEl:a}):{};var et=null;if(q){var nt=Y||B?h.createElement("img",(0,d.Z)((0,d.Z)({alt:P,sizes:G,src:j,srcSet:K},k&&"LOADED"===A?I:{}),{},{"data-rmiz-modal-img":"",height:this.styleModalImg.height||void 0,id:x,ref:D,style:this.styleModalImg,width:this.styleModalImg.width||void 0})):F?h.createElement("div",{"data-rmiz-modal-img":!0,ref:D,style:this.styleModalImg}):null,ot=h.createElement("button",{"aria-label":l,"data-rmiz-btn-unzoom":"",onClick:o,type:"button"},h.createElement(w,null));et=y?h.createElement(y,{buttonUnzoom:ot,modalState:A,img:nt,onUnzoom:o}):h.createElement(h.Fragment,null,nt,ot)}return h.createElement(L,{"aria-owns":R,"data-rmiz":"",ref:H},h.createElement(L,{"data-rmiz-content":J,ref:W,style:X},m),q&&h.createElement(L,{"data-rmiz-ghost":"",style:tt},h.createElement("button",{"aria-label":V,"data-rmiz-btn-zoom":"",onClick:i,type:"button"},h.createElement(E,null))),q&&null!=u&&(0,s.createPortal)(h.createElement("dialog",{"aria-labelledby":x,"aria-modal":"true",className:f,"data-rmiz-modal":"",id:R,onClick:e,onClose:o,onCancel:t,onKeyDown:n,ref:M,role:"dialog"},h.createElement("div",{"data-rmiz-modal-overlay":Q}),h.createElement("div",{"data-rmiz-modal-content":"",ref:C},et)),u))}},{key:"componentDidMount",value:function(){this.setId(),this.setAndTrackImg(),this.handleImgLoad(),this.UNSAFE_handleSvg()}},{key:"componentWillUnmount",value:function(){var t,e,n,o,i,a,r,l,d,c,h,s;"UNLOADED"!==this.state.modalState&&this.bodyScrollEnable(),null===(t=this.changeObserver)||void 0===t||null===(e=t.disconnect)||void 0===e||e.call(t),null===(n=this.imgElObserver)||void 0===n||null===(o=n.disconnect)||void 0===o||o.call(n),null===(i=this.imgEl)||void 0===i||null===(a=i.removeEventListener)||void 0===a||a.call(i,"load",this.handleImgLoad),null===(r=this.imgEl)||void 0===r||null===(l=r.removeEventListener)||void 0===l||l.call(r,"click",this.handleZoom),null===(d=this.refModalImg.current)||void 0===d||null===(c=d.removeEventListener)||void 0===c||c.call(d,"transitionend",this.handleZoomEnd),null===(h=this.refModalImg.current)||void 0===h||null===(s=h.removeEventListener)||void 0===s||s.call(h,"transitionend",this.handleUnzoomEnd),window.removeEventListener("wheel",this.handleWheel),window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchend",this.handleTouchMove),window.removeEventListener("touchcancel",this.handleTouchCancel),window.removeEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(t){this.UNSAFE_handleSvg(),this.handleIfZoomChanged(t.isZoomed)}}]),n}(h.Component);function C(t){var e=(0,h.useState)(!1),n=(0,c.Z)(e,2),o=n[0],i=n[1];return h.createElement(W,(0,d.Z)((0,d.Z)({},t),{},{isZoomed:o,onZoomChange:i}))}M.defaultProps={a11yNameButtonUnzoom:"Minimize image",a11yNameButtonZoom:"Expand image",IconUnzoom:function(){return h.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-unzoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z"}))},IconZoom:function(){return h.createElement("svg",{"aria-hidden":"true","data-rmiz-btn-zoom-icon":!0,fill:"currentColor",focusable:"false",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},h.createElement("path",{d:"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z"}))},wrapElement:"div",zoomMargin:0}}}]);
//# sourceMappingURL=305.ec27b9f9.chunk.js.map